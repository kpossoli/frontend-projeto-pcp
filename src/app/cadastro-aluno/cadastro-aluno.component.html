<div class="cadastro-aluno-container">
  <h2>Cadastro de Aluno</h2>
  <form (ngSubmit)="onSubmit()" #alunoForm="ngForm">

    <!-- Nome Completo -->
    <div class="form-group">
      <label for="nome">Nome Completo</label>
      <input type="text" id="nome" name="nome" class="form-control" [(ngModel)]="aluno.nome"
             required minlength="8" maxlength="64" #nome="ngModel">
      <div *ngIf="nome.invalid && nome.touched" class="error">
        O nome deve ter entre 8 e 64 caracteres.
      </div>
    </div>

    <!-- Gênero -->
    <div class="form-group">
      <label for="genero">Gênero</label>
      <select id="genero" name="genero" class="form-control" [(ngModel)]="aluno.genero" required>
        <option value="" disabled>Selecione...</option>
        <option value="Masculino">Masculino</option>
        <option value="Feminino">Feminino</option>
        <option value="Outro">Outro</option>
      </select>
    </div>

    <!-- Data de Nascimento -->
    <div class="form-group">
      <label for="dataNascimento">Data de Nascimento</label>
      <input type="date" id="dataNascimento" name="dataNascimento" class="form-control" [(ngModel)]="aluno.dataNascimento" required>
    </div>

    <!-- CPF -->
    <div class="form-group">
      <label for="cpf">CPF</label>
      <input type="text" id="cpf" name="cpf" class="form-control" [(ngModel)]="aluno.cpf"
             required pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" #cpf="ngModel">
      <div *ngIf="cpf.invalid && cpf.touched" class="error">
        O CPF deve estar no formato 000.000.000-00.
      </div>
    </div>

    <!-- RG e Órgão Expedidor -->
    <div class="form-group">
      <label for="rg">RG com Órgão Expedidor</label>
      <input type="text" id="rg" name="rg" class="form-control" [(ngModel)]="aluno.rg" required maxlength="20" #rg="ngModel">
      <div *ngIf="rg.invalid && rg.touched" class="error">
        O RG deve ter no máximo 20 caracteres.
      </div>
    </div>

    <!-- Telefone -->
    <div class="form-group">
      <label for="telefone">Telefone</label>
      <input type="text" id="telefone" name="telefone" class="form-control" [(ngModel)]="aluno.telefone"
             required pattern="\(\d{2}\) \d \d{4}-\d{4}" #telefone="ngModel">
      <div *ngIf="telefone.invalid && telefone.touched" class="error">
        O telefone deve estar no formato (99) 9 9999-9999.
      </div>
    </div>

    <!-- E-mail -->
    <div class="form-group">
      <label for="email">E-mail (Opcional)</label>
      <input type="email" id="email" name="email" class="form-control" [(ngModel)]="aluno.email" #email="ngModel">
      <div *ngIf="email.invalid && email.touched" class="error">
        Por favor, insira um e-mail válido.
      </div>
    </div>

    <!-- Senha -->
    <div class="form-group">
      <label for="senha">Senha</label>
      <input type="password" id="senha" name="senha" class="form-control" [(ngModel)]="aluno.senha"
             required minlength="8" #senha="ngModel">
      <div *ngIf="senha.invalid && senha.touched" class="error">
        A senha deve ter no mínimo 8 caracteres.
      </div>
    </div>

    <!-- Naturalidade -->
    <div class="form-group">
      <label for="naturalidade">Naturalidade</label>
      <input type="text" id="naturalidade" name="naturalidade" class="form-control" [(ngModel)]="aluno.naturalidade"
             required minlength="8" maxlength="64" #naturalidade="ngModel">
      <div *ngIf="naturalidade.invalid && naturalidade.touched" class="error">
        A naturalidade deve ter entre 8 e 64 caracteres.
      </div>
    </div>

    <!-- Endereço -->
    <div class="form-group">
      <label for="cep">CEP</label>
      <input type="text" id="cep" name="cep" class="form-control" [(ngModel)]="aluno.cep" required (blur)="buscarEndereco()">
    </div>

    <div class="form-group">
      <label for="logradouro">Logradouro</label>
      <input type="text" id="logradouro" name="logradouro" class="form-control" [(ngModel)]="aluno.logradouro" required>
    </div>

    <div class="form-group">
      <label for="numero">Número</label>
      <input type="text" id="numero" name="numero" class="form-control" [(ngModel)]="aluno.numero" required>
    </div>

    <div class="form-group">
      <label for="complemento">Complemento</label>
      <input type="text" id="complemento" name="complemento" class="form-control" [(ngModel)]="aluno.complemento">
    </div>

    <div class="form-group">
      <label for="bairro">Bairro</label>
      <input type="text" id="bairro" name="bairro" class="form-control" [(ngModel)]="aluno.bairro" required>
    </div>

    <div class="form-group">
      <label for="cidade">Cidade</label>
      <input type="text" id="cidade" name="cidade" class="form-control" [(ngModel)]="aluno.cidade" required>
    </div>

    <div class="form-group">
      <label for="estado">Estado</label>
      <input type="text" id="estado" name="estado" class="form-control" [(ngModel)]="aluno.estado" required>
    </div>

    <div class="form-group">
      <label for="pontoReferencia">Ponto de Referência</label>
      <input type="text" id="pontoReferencia" name="pontoReferencia" class="form-control" [(ngModel)]="aluno.pontoReferencia">
    </div>

    <!-- Turmas -->
    <div class="form-group">
      <label for="turmas">Turmas</label>
      <select id="turmas" name="turmas" class="form-control" [(ngModel)]="aluno.turmas" multiple required>
        <option *ngFor="let turma of turmasDisponiveis" [value]="turma">{{ turma }}</option>
      </select>
    </div>

    <!-- Botões -->
    <div class="form-group">
      <button type="submit" class="btn btn-primary" [disabled]="!alunoForm.form.valid">Salvar</button>
      <button type="button" class="btn btn-secondary" disabled>Editar</button>
      <button type="button" class="btn btn-danger" disabled>Deletar</button>
    </div>
  </form>
</div>
